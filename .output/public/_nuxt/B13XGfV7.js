import{_ as g}from"./BWUHg-jy.js";import{r as u,o as x,c as w,a as t,y as d,z as r,p as o,b as y,w as _,d as b,t as v,E as h}from"./C4Xlz3sA.js";import{s as V,a as E}from"./CpxPsSom.js";const N={class:"bg-slate-100 h-screen"},U={class:"flex justify-between"},k={class:"w-[300px] mt-20"},B={class:"flex flex-col gap-2"},C=["disabled"],R={__name:"register",setup(S){const n=u({name:"",email:"",password:""}),p=h(),a=u(!1);async function m(){var i,s,l;try{a.value=!0;const e=await $fetch(((i=p.public)==null?void 0:i.API_BASE_URL)+"/register",{headers:{Accept:"application/json","content-type":"application/json"},method:"POST",body:JSON.stringify(n.value)});a.value=!1,V(e==null?void 0:e.message)}catch(e){if(a.value=!1,((s=e==null?void 0:e.response)==null?void 0:s.status)===422){const c=(l=e.response)==null?void 0:l._data;for(const f of c)E(f)}}}return(i,s)=>{const l=g;return x(),w("div",N,[t("div",U,[s[5]||(s[5]=t("div",null,null,-1)),t("div",k,[t("div",B,[s[4]||(s[4]=t("h1",{class:"text-2xl"},"Register",-1)),d(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o(n).name=e),type:"text",name:"",placeholder:"name",id:"",class:"py-2 px-2 text-sm rounded-md shadow-sm focus:ring focus:ring-blue-300"},null,512),[[r,o(n).name]]),d(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>o(n).email=e),type:"text",name:"",placeholder:"E-mail",id:"",class:"py-2 px-2 text-sm rounded-md shadow-sm focus:ring focus:ring-blue-300"},null,512),[[r,o(n).email]]),d(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>o(n).password=e),type:"password",name:"",placeholder:"password",id:"",class:"py-2 px-2 text-sm rounded-md shadow-sm focus:ring focus:ring-blue-300"},null,512),[[r,o(n).password]]),y(l,{to:"/auth/login",class:"text-indigo-700 font-semibold"},{default:_(()=>s[3]||(s[3]=[b(" Login ")])),_:1}),t("button",{onClick:m,disabled:o(a),class:"rounded-md text-white py-2 bg-indigo-700 text-sm font-semibold"},v(o(a)?"processing...":" Create account"),9,C)])]),s[6]||(s[6]=t("div",null,null,-1))])])}}};export{R as default};
